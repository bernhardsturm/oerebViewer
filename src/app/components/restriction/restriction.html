<div class="row theme-key">
    <h3>{{"restrictionConcernedKey" | translate}}</h3>
</div>

<div ng-repeat="v in restriction.data.values | unique:'Information.LocalisedText.Text'" class="accordion-navigation">
    <div class="row restriction-info">
        <div class="small-2 oereb-label medium-1"><img class="legend-symbol" ng-src="{{v.Symbol}}" /></div>
        <div class="small-10 medium-7 oereb-value">{{v.Information.LocalisedText.Text}}</div>
        <div class="small-2 show-for-small-only"></div>
        <div ng-if="v.TypeCodelist == 'Polygon'" class="small-10 medium-4 oereb-area">{{v.Area}}mÂ² ({{v.PartInPercent}}%)</div>
        <div ng-if="v.TypeCodelist == 'Polyline'" class="small-10 medium-4 oereb-area">{{v.Area}}m</div>
        <div ng-if="v.TypeCodelist == 'Point'" class="small-10 medium-4 oereb-area">{{v.Area}} Anzahl</div>
    </div>
</div>

<div class="row more-info">
    <div class="small-12">
        <svg class="icon icon-layers">
            <use xlink:href="#icon-layers"></use>
        </svg>
        <a class="external-link" target="_blank" href="{{restriction.data.values[0].Map.LegendAtWeb}}" title="{{'restrictionKeyDownload' | translate}}">{{"restrictionKeyDownload" | translate}} ({{restriction.data.name}})</a>
    </div>
</div>

<!-- TEST ONLY
<pre>
  {{restriction.data.values}}
</pre>
-->

<!-- Legal Provisions -->
<div class="row" ng-if="restriction.hasLegals">
    <h3 class="theme-heading">{{"restrictionLegalProvision" | translate }}</h3>
</div>
<div ng-repeat="v in restriction.data.values | unique:'TextAtWeb.LocalisedText.Text'" class="accordion-navigation">
    <!--  | unique:'document.TextAtWeb.LocalisedText.Text' -->
    <use ng-repeat="document in v.LegalProvisions | unique:'TextAtWeb.LocalisedText.Text'">
      <div ng-if="document['_xsi:type'] == 'LegalProvisions'" class="row more-info pdf-list">

          <!-- necessary for theme-heading of legals -->
            <span ng-init="restriction.hasLegals = true"></span>

            <div class="small-12">
                <svg class="icon icon-file">
                    <use xlink:href="#icon-file"></use>
                </svg>
                <a ng-if="document.OfficialTitle.LocalisedText.Text.length > 0" class="external-link" target="_blank" href="{{ document.TextAtWeb.LocalisedText.Text }}" title="PDF">{{document.OfficialTitle.LocalisedText.Text}}</a>
                <a ng-if="document.OfficialTitle.LocalisedText.Text.length == 0" class="external-link" target="_blank" href="{{ document.TextAtWeb.LocalisedText.Text }}" title="PDF">{{document.Title.LocalisedText.Text}}</a>
            </div>
      </div>
    </use>
</div>
<!-- Documents -->
<div class="row" ng-if="restriction.hasLegals">
    <h3 class="theme-heading">{{"restrictionLegal" | translate }}</h3>
</div>
<div ng-repeat="v in restriction.data.values | unique:'TextAtWeb.LocalisedText.Text'" class="accordion-navigation">
    <!--  | unique:'document.TextAtWeb.LocalisedText.Text' -->
    <use ng-repeat="document in v.LegalProvisions | unique:'TextAtWeb.LocalisedText.Text'">
      <div ng-if="document['_xsi:type'] == 'Document'" class="row more-info pdf-list">

          <!-- necessary for theme-heading of legals -->
            <span ng-init="restriction.hasLegals = true"></span>

            <div class="small-12">
                <svg class="icon icon-open">
                    <use xlink:href="#icon-open"></use>
                </svg>
                <a ng-if="document.OfficialTitle.LocalisedText.Text.length > 0" class="external-link" target="_blank" href="{{ document.TextAtWeb.LocalisedText.Text }}" title="Link">{{document.OfficialTitle.LocalisedText.Text}}</a>
                <a ng-if="document.OfficialTitle.LocalisedText.Text.length == 0" class="external-link" target="_blank" href="{{ document.TextAtWeb.LocalisedText.Text }}" title="Link">{{document.Title.LocalisedText.Text}}</a>
            </div>
      </div>
    </use>
</div>
<!-- Remarks -->
<div class="row" ng-if="restriction.hasLegals">
    <h3 class="theme-heading">{{"restrictionReference" | translate }}</h3>
</div>
<div ng-repeat="v in restriction.data.values | unique:'TextAtWeb.LocalisedText.Text'" class="accordion-navigation">
    <!--  | unique:'document.TextAtWeb.LocalisedText.Text' -->
    <use ng-repeat="document in v.LegalProvisions | unique:'TextAtWeb.LocalisedText.Text'">
      <div ng-if="document['_xsi:type'] == 'Reference'" class="row more-info pdf-list">

          <!-- necessary for theme-heading of legals -->

            <span ng-init="restriction.hasLegals = true"></span>

            <div class="small-12">
                <span ng-if="document.OfficialTitle.LocalisedText.Text.length > 0">{{document.OfficialTitle.LocalisedText.Text}}</span>
                <span ng-if="document.OfficialTitle.LocalisedText.Text.length == 0">{{document.Title.LocalisedText.Text}}</span>
            </div>
      </div>
    </use>
</div>



<div class="row">
    <h3 class="theme-heading">{{"restrictionAuthority" | translate}}</h3>
</div>
<div ng-repeat="v in restriction.data.values | unique:'ResponsibleOffice.Name.LocalisedText.Text'" class="row more-info pdf-list">
    <div class="small-12">
        <svg class="icon icon-open">
            <use xlink:href="#icon-open"></use>
        </svg>
        <a class="external-link" target="_blank" href="{{v.ResponsibleOffice.OfficeAtWeb}}" title="Link">{{v.ResponsibleOffice.Name.LocalisedText.Text}}</a>
    </div>
</div>
